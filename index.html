<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-K">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defensa del Héroe: El Poder de los Verbos</title>
    <!-- Enlace a la hoja de estilos -->
    <link rel="stylesheet" href="style.css">
    <!-- El script se carga al final del body -->
</head>
<body>

    <!-- PANTALLA DE SELECCIÓN -->
    <div id="selection-overlay" class="overlay">
        <div class="selection-box">
            
            <!-- Paso 1: Elegir Tiempo -->
            <div id="tense-selection">
                <h1 class="selection-title">Choose your tense</h1>
                <div class="selection-buttons">
                    <button data-tense="presente" class="btn btn-tense">Present Tense</button>
                    <button data-tense="indefinido" class="btn btn-tense">Indefinite Tense (Pretérito)</button>
                    <button data-tense="imperfecto" class="btn btn-tense">Imperfect Tense</button>
                </div>
            </div>

            <!-- Paso 2: Elegir Tipo de Verbo -->
            <div id="type-selection" class="hidden">
                <h1 class="selection-title">Choose verb type</h1>
                <div class="selection-buttons">
                    <button data-type="regular" class="btn btn-type">Regular Verbs</button>
                    <button data-type="regular-irregular" class="btn btn-type">Regular and Irregular Verbs</button>
                </div>

                <div id="difficulty-selection" class="hidden">
                    <h2 class="selection-subtitle">Choose difficulty</h2>
                    <div class="selection-buttons">
                        <button data-difficulty="facil" class="btn btn-difficulty">Easy</button>
                        <button data-difficulty="intermedio" class="btn btn-difficulty">Intermediate</button>
                        <button data-difficulty="dificil" class="btn btn-difficulty">Hard</button>
                    </div>
                </div>

                <button id="start-game-button" class="btn btn-start" disabled>
                    Start Game
                </button>
                <div id="selection-error" class="selection-error-message"></div>
            </div>

        </div>
    </div>


    <!-- Contenedor principal de la aplicación (oculto al inicio) -->
    <div id="app-container" class="hidden">

        <!-- 1. ZONA DEL JUEGO (ARRIBA) -->
        <div id="game-container">
            <canvas id="game-canvas"></canvas>
            <!-- Overlay de Game Over -->
            <div id="game-over-overlay" class="overlay hidden">
                <h1 class="game-over-title">¡FIN DEL JUEGO!</h1>
                <p class="game-over-subtitle">Los monstruos han superado tus defensas.</p>
                <p class="game-over-score">Puntuación Final: <span id="final-score">0</span></p>
                <button id="restart-button" class="btn btn-restart">
                    Jugar de Nuevo
                </button>
            </div>
        </div>

        <!-- 2. ZONA DEL MINI-JUEGO (ABAJO) -->
        <div id="minigame-container">
            <h2 class="minigame-title">¡El Poder de los Verbos!</h2>
            <p>Resuelve la conjugación para aumentar tu poder de ataque.</p>
            
            <!-- Pregunta del mini-juego -->
            <div id="minigame-prompt">
                <span>Conjugar</span>
                <span id="verb">...</span>
                <span>en</span>
                <span id="tense">...</span>
                <span>para</span>
                <span id="pronoun">...</span>
                <span>:</span>
            </div>

            <!-- Respuesta del jugador -->
            <div class="answer-group">
                <input type="text" id="answer-input" placeholder="Tu respuesta...">
                <button id="submit-answer" class="btn btn-submit">
                    Comprobar
                </button>
            </div>

            <!-- Mensaje de feedback -->
            <div id="minigame-message"></div>
        </div>
    </div>

    <!-- Enlace al script del juego -->
    <script src="script.js"></script>
</body>
</html>
